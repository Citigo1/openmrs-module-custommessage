<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqldiff PUBLIC "-//OpenMRS//DTD OpenMRS SQL Diff Config 1.0//EN" "http://resources.openmrs.org/doctype/sqldiff-1.0.dtd">

<sqldiff version="1.0">
	<help></help>
	<diff>
		<version>1.0</version>
		<author>Michael Seaton</author>
		<date>Feb 1 2012</date>
		<description>Creates a custom table for overriding messages.properties</description>
		<sql>
			CREATE TABLE IF NOT EXISTS `custommessage_messages` (
			  `id` int(11) NOT NULL auto_increment,
			  `uuid` char(38) NOT NULL,
			  `code` varchar(100) NOT NULL,
			  `locale` varchar(10) NOT NULL,
			  `message` varchar(1000) NOT NULL,	
			  `updated_by` int(11) NOT NULL default '0',
			  `updated_datetime` datetime NOT NULL default '0000-00-00 00:00:00',
			  PRIMARY KEY  (`id`),
			  KEY `updated_by for custommessage_message` (`updated_by`),
			  CONSTRAINT `updated_by for custommessage_message` FOREIGN KEY (`updated_by`) REFERENCES `users` (`user_id`)
			) 
			ENGINE=InnoDB DEFAULT CHARSET=utf8;
		</sql>
	</diff>
	
</sqldiff>
